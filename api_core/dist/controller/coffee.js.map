{"version":3,"sources":["../../src/controller/coffee.js"],"names":["config","db","api","post","req","res","newCoffee","name","body","save","err","send","json","message","get","find","coffees","findById","params","id","coffee","put"],"mappings":";;;;;;AAAA;;;;AACA;;AACA;;;;;;kBAEe,gBAAkB;AAAA,QAAhBA,MAAgB,QAAhBA,MAAgB;AAAA,QAARC,EAAQ,QAARA,EAAQ;;AAC7B,QAAIC,MAAM,sBAAV;;AAGA;;;AAMA;AACAA,QAAIC,IAAJ,CAAS,MAAT,EAAiB,UAACC,GAAD,EAAKC,GAAL,EAAa;AAC1B,YAAIC,YAAY,sBAAhB;AACAA,kBAAUC,IAAV,GAAiBH,IAAII,IAAJ,CAASD,IAA1B;;AAGAD,kBAAUG,IAAV,CAAe,eAAM;AACjB,gBAAGC,GAAH,EAAQ;AACJL,oBAAIM,IAAJ,CAASD,GAAT;AACH;AACDL,gBAAIO,IAAJ,CAAS,EAACC,SAAS,4BAAV,EAAT;AACH,SALD;AAMH,KAXD;;AAaA;AACAX,QAAIY,GAAJ,CAAQ,GAAR,EAAa,UAACV,GAAD,EAAKC,GAAL,EAAc;AACvB,yBAAOU,IAAP,CAAY,EAAZ,EAAgB,UAACL,GAAD,EAAMM,OAAN,EAAkB;AAC9B,gBAAIN,GAAJ,EAAS;AACLL,oBAAIM,IAAJ,CAASD,GAAT;AACH;AACDL,gBAAIO,IAAJ,CAASI,OAAT;AACH,SALD;AAMH,KAPD;;AASAd,QAAIY,GAAJ,CAAQ,MAAR,EAAgB,UAACV,GAAD,EAAKC,GAAL,EAAa;AACzB,yBAAOY,QAAP,CAAgBb,IAAIc,MAAJ,CAAWC,EAA3B,EAA+B,UAACT,GAAD,EAAKU,MAAL,EAAe;AAC1C,gBAAGV,GAAH,EAAQ;AACJL,oBAAIM,IAAJ,CAASD,GAAT;AACH;AACDL,gBAAIO,IAAJ,CAASQ,MAAT;AACH,SALD;AAMH,KAPD;;AASA;AACAlB,QAAImB,GAAJ,CAAQ,MAAR,EAAgB,UAACjB,GAAD,EAAKC,GAAL,EAAa;AACzB,yBAAOY,QAAP,CAAgBb,IAAIc,MAAJ,CAAWC,EAA3B,EAA+B,UAACT,GAAD,EAAKU,MAAL,EAAgB;AAC3C,gBAAGV,GAAH,EAAQ;AACJL,oBAAIM,IAAJ,CAASD,GAAT;AACH;AACDU,mBAAOb,IAAP,GAAaH,IAAII,IAAJ,CAASD,IAAtB;AACAa,mBAAOX,IAAP,CAAY,eAAM;AACd,oBAAGC,GAAH,EAAO;AACHL,wBAAIM,IAAJ,CAASD,GAAT;AACH;AACDL,oBAAIO,IAAJ,CAAS,EAACC,SAAQ,2BAAT,EAAT;AACH,aALD;AAMH,SAXD;AAYH,KAbD;AAcA,WAAOX,GAAP;AACH,C","file":"coffee.js","sourcesContent":["import mongoose from 'mongoose'\nimport {Router} from 'express'\nimport Coffee from '../model/coffee'\n\nexport default ({config ,db}) => {\n    let api = Router()\n\n\n    // CRUD\n\n\n\n\n\n    //coffee/add\n    api.post('/add' ,(req,res) => {\n        let newCoffee = new Coffee()\n        newCoffee.name = req.body.name\n\n\n        newCoffee.save(err=> {\n            if(err) {\n                res.send(err)\n            }\n            res.json({message: 'Coffee Upload successfully'})\n        })\n    })\n\n    // /coffee -READ\n    api.get('/', (req,res)  => {\n        Coffee.find({}, (err, coffees) => {\n            if (err) {\n                res.send(err)\n            }\n            res.json(coffees)\n        }) \n    })\n\n    api.get('/:id', (req,res) => {\n        Coffee.findById(req.params.id, (err,coffee) =>{\n            if(err) {\n                res.send(err)\n            }\n            res.json(coffee)\n        })\n    })\n\n    // v1/coffee/:id - update\n    api.put('/:id', (req,res) => {\n        Coffee.findById(req.params.id, (err,coffee) => {\n            if(err) {\n                res.send(err)\n            }\n            coffee.name =req.body.name\n            coffee.save(err =>{\n                if(err){\n                    res.send(err)\n                }\n                res.json({message:'Coffee information update'})\n            })\n        })\n    })\n    return api\n}"]}